<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org"
      th:replace="~{_layout :: layout(~{::title}, ~{::styles}, ~{::section})}">
<head>
    <meta charset="UTF-8">
    <title th:fragment="title">[[${mangaka.id} == null ? 'Crear' : 'Editar']] Mangaka</title>
</head>
<body>

<section th:fragment="section">
    <main class="container my-5">
        <h2 class="fw-bold text-dark mb-4">
            [[${mangaka.id} == null ? 'Crear Nuevo' : 'Editar']] Mangaka
        </h2>

        <form th:action="@{/admin/mangakas/save}" th:object="${mangaka}" method="post" class="bg-white p-4 shadow rounded-3">

            <input type="hidden" th:field="*{id}" />

            <div class="mb-3">
                <label for="nombre" class="form-label">Nombre Completo</label>
                <input type="text" th:field="*{nombre}" class="form-control" id="nombre" required>
                <div class="text-danger" th:if="${#fields.hasErrors('nombre')}" th:errors="*{nombre}"></div>
            </div>

            <div class="mb-3">
                <label for="nacionalidad" class="form-label">Nacionalidad</label>
                <input type="text" th:field="*{nacionalidad}" class="form-control" id="nacionalidad" required>
                <div class="text-danger" th:if="${#fields.hasErrors('nacionalidad')}" th:errors="*{nacionalidad}"></div>
            </div>

            <div class="mb-3">
                <label for="fecha_nacimiento" class="form-label">Fecha de Nacimiento</label>
                <input type="date" th:field="*{fecha_nacimiento}" class="form-control" id="fecha_nacimiento" required>
                <div class="text-danger" th:if="${#fields.hasErrors('fecha_nacimiento')}" th:errors="*{fecha_nacimiento}"></div>
            </div>

            <div class="mb-3">
                <label for="edad" class="form-label">Edad (años)</label>
                <input type="number" th:field="*{edad}" class="form-control" id="edad" min="14" max="120" required>
                <div class="text-danger" th:if="${#fields.hasErrors('edad')}" th:errors="*{edad}"></div>
            </div>

            <div class="mb-3">
                <label for="lugar_nacimiento" class="form-label">Lugar de Nacimiento</label>
                <input type="text" th:field="*{lugar_nacimiento}" class="form-control" id="lugar_nacimiento">
                <div class="text-danger" th:if="${#fields.hasErrors('lugar_nacimiento')}" th:errors="*{lugar_nacimiento}"></div>
            </div>

            <div class="mb-3">
                <label for="biografia" class="form-label">Biografía</label>
                <textarea th:field="*{biografia}" class="form-control" id="biografia" rows="5" required></textarea>
                <div class="text-danger" th:if="${#fields.hasErrors('biografia')}" th:errors="*{biografia}"></div>
            </div>

            <div class="mb-3">
                <label for="foto" class="form-label">URL de la Foto</label>
                <input type="url" th:field="*{foto}" class="form-control" id="foto">
                <div class="text-danger" th:if="${#fields.hasErrors('foto')}" th:errors="*{foto}"></div>
            </div>


            <a th:href="@{/admin/mangakas}" class="btn btn-secondary">Cancelar</a>
            <button type="submit" class="btn btn-warning">
                <i class="bi bi-save"></i> [[${mangaka.id} == null ? 'Guardar' : 'Actualizar']]
            </button>
        </form>
    </main>
</section>
</body>
</html>